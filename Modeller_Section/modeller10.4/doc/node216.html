<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2018.2 (Released May 16, 2018) -->
<HTML>
<HEAD>
<TITLE>Restraints.make_distance() &mdash; make distance restraints</TITLE>
<META NAME="description" CONTENT="Restraints.make_distance() &mdash; make distance restraints">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2018.2">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="manual.css">
<LINK REL="STYLESHEET" HREF="pygments.css">

<LINK REL="next" HREF="node217.html">
<LINK REL="previous" HREF="node215.html">
<LINK REL="up" HREF="node208.html">
<LINK REL="next" HREF="node217.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html5067"
  HREF="node217.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html5061"
  HREF="node208.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html5055"
  HREF="node215.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html5063"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html5065"
  HREF="node517.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html5068"
  HREF="node217.html">Restraints.unpick_all()   unselect</A>
<B> Up:</B> <A NAME="tex2html5062"
  HREF="node208.html">The Restraints class: static</A>
<B> Previous:</B> <A NAME="tex2html5056"
  HREF="node215.html">Restraints.make()   make</A>
 &nbsp; <B>  <A NAME="tex2html5064"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html5066"
  HREF="node517.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION001178000000000000000">
Restraints.make_distance() &mdash; make distance restraints</A>
</H2> <A NAME="19471"></A><A NAME="CMD:Restraints.makedistance"></A><A NAME="19474"></A><TT>make_distance(atmsel1, atmsel2, aln, spline_on_site, restraint_group, maximal_distance, residue_span_range=(0, 99999), residue_span_sign=True, distance_rsr_model=1, basis_pdf_weight='LOCAL', basis_relative_weight=0.05, spline_dx=0.5, spline_min_points=5, spline_range=4.0, accessibility_type=8, restraint_stdev=(0.1, 1.0), restraint_stdev2=(0.0, 0.0, 0.0), surftyp=1, distngh=6.0, edat=None, io=None, exclude_distance=0.0)</TT>
<BR><DL>
<DT><STRONG>Requirements:</STRONG></DT>
<DD>topology <TT>&amp;</TT> parameters
                             
</DD>
</DL>

<P>
<BLOCKQUOTE>
This command calculates and selects new distance restraints.
See <B><A HREF="node215.html#CMD:Restraints.make">Restraints.make()</A></B><A NAME="19507"></A> for full details.
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>Distance restraints are generated for all pairs of atoms <SPAN CLASS="MATH"><IMG
 WIDTH="24" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img65.png"
 ALT="$i,j$"></SPAN> where
atom <SPAN CLASS="MATH"><IMG
 WIDTH="10" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img60.png"
 ALT="$i$"></SPAN> is from selection <I CLASS="sans">atmsel1</I><A NAME="19512"></A> and atom <SPAN CLASS="MATH"><IMG
 WIDTH="12" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img66.png"
 ALT="$j$"></SPAN> is from selection
<I CLASS="sans">atmsel2</I><A NAME="19515"></A>. Moreover, for a restraint to be created, at least one distance in
the template structures must be less than <I CLASS="sans">maximal_distance</I><A NAME="19518"></A> (in &#197;).
The mean of this basis pdf is equal to the template distance and its standard
deviation <SPAN CLASS="MATH"><IMG
 WIDTH="14" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img67.png"
 ALT="$\sigma$"></SPAN> is calculated from an analytic model specified by
<I CLASS="sans">distance_rsr_model</I><A NAME="19521"></A>. Use model 5 for <!-- MATH
 ${C}_\alpha$
 -->
<SPAN CLASS="MATH">C<sub>&alpha;</sub></SPAN>-<!-- MATH
 ${C}_\alpha$
 -->
<SPAN CLASS="MATH">C<sub>&alpha;</sub></SPAN> distances and model 
6 for N-O distances. For models 1 through 6, this standard deviation is
transformed by <!-- MATH
 $\sigma' = a + b*(\sigma+W_{g})$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="153" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img68.png"
 ALT="$\sigma' = a + b*(\sigma+W_{g})$"></SPAN> where <SPAN CLASS="MATH"><IMG
 WIDTH="13" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img22.png"
 ALT="$a$"></SPAN> and <SPAN CLASS="MATH"><IMG
 WIDTH="11" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img23.png"
 ALT="$b$"></SPAN> are given
by <I CLASS="sans">restraint_stdev</I><A NAME="19526"></A> and <SPAN CLASS="MATH"><IMG
 WIDTH="27" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img69.png"
 ALT="$W_{g}$"></SPAN> is a gap weighting function of the form
<!-- MATH
 $W_{g} = 0.6 * \max(0, 4-g_{av})$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="190" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img70.png"
 ALT="$W_{g} = 0.6 * \max(0, 4-g_{av})$"></SPAN>. <SPAN CLASS="MATH"><IMG
 WIDTH="26" HEIGHT="28" ALIGN="MIDDLE" BORDER="0"
 SRC="img71.png"
 ALT="$g_{av}$"></SPAN> is the average distance of the
two residues involved in the restraint from a gap. For models 3 through 6,
this is additionally transformed by
<!-- MATH
 $\sigma'' = \sigma' + \sum_{i}[d+e*\max(0,f-g_{i})]$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="257" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img72.png"
 ALT="$\sigma'' = \sigma' + \sum_{i}[d+e*\max(0,f-g_{i})]$"></SPAN> where the sum is over each
of the atoms <SPAN CLASS="MATH"><IMG
 WIDTH="10" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img60.png"
 ALT="$i$"></SPAN> involved in the distance, <SPAN CLASS="MATH"><IMG
 WIDTH="13" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img14.png"
 ALT="$d$"></SPAN> <SPAN CLASS="MATH"><IMG
 WIDTH="12" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img73.png"
 ALT="$e$"></SPAN> and <SPAN CLASS="MATH"><IMG
 WIDTH="14" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img74.png"
 ALT="$f$"></SPAN> are given by
<I CLASS="sans">restraint_stdev2</I><A NAME="19529"></A>, and <SPAN CLASS="MATH"><IMG
 WIDTH="17" HEIGHT="28" ALIGN="MIDDLE" BORDER="0"
 SRC="img75.png"
 ALT="$g_{i}$"></SPAN> is the distance of each residue from a gap.
The first six models are polynomials and depend on several structural features 
of the template and its similarity to the target. The polynomial 
coefficients are specified in library file <TT>'$PARAMS_LIB'</TT>. When 
&ldquo;polynomial model&rdquo; 7 is selected, the standard deviation of restraints
is set to constant <SPAN CLASS="MATH"><IMG
 WIDTH="13" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img22.png"
 ALT="$a$"></SPAN>. Each basis pdf in the distance pdf corresponds
to one template structure with an equivalent distance.
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>In addition, the atom pairs restrained by homology-derived restraints
must by default not be in a chemical bond, chemical angle, dihedral angle, 
or on an excluded pairs list. This behavior can be changed by resetting
<I CLASS="sans"><A HREF="node135.html#MEMB:EnergyData.excllocal">EnergyData.excl_local</A></I><A NAME="19533"></A> (see <B><A HREF="node269.html#CMD:ConjugateGradients">ConjugateGradients()</A></B><A NAME="19538"></A>).
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>If the restrained distance for a given atom pair is less than
<I CLASS="sans">exclude_distance</I><A NAME="19543"></A>, that pair is also excluded from the nonbonded list.
This is useful if you are building short distance restraints to approximate
bonds.
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>An 'equivalent' distance is defined as the distance between a pair of
equivalent atoms. See <B><A HREF="node394.html#CMD:Atom.getequivalentatom">Atom.get_equivalent_atom()</A></B><A NAME="19546"></A> for the rules for
determining equivalency.

</BLOCKQUOTE>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html5067"
  HREF="node217.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html5061"
  HREF="node208.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html5055"
  HREF="node215.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html5063"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html5065"
  HREF="node517.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html5068"
  HREF="node217.html">Restraints.unpick_all()   unselect</A>
<B> Up:</B> <A NAME="tex2html5062"
  HREF="node208.html">The Restraints class: static</A>
<B> Previous:</B> <A NAME="tex2html5056"
  HREF="node215.html">Restraints.make()   make</A>
 &nbsp; <B>  <A NAME="tex2html5064"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html5066"
  HREF="node517.html">Index</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
